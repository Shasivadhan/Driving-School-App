<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Generate Certificate - KsvTech Driving School</title>
    <link th:href="@{/css/bootstrap.min.css}"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container-fluid">
        <a class="navbar-brand" href="/dashboard">Driving School Admin</a>
    </div>
</nav>

<div class="container mt-4">
    <div th:if="${successMessage}" class="alert alert-success">
        <span th:text="${successMessage}"></span>
        <div th:if="${pdfLink}" class="mt-2">
            <a class="btn btn-sm btn-outline-primary" th:href="${pdfLink}" target="_blank">
                Download PDF
            </a>
        </div>
    </div>

    <h3>Generate Certificate</h3>
    <form th:action="@{/admin/certificates}" method="post">
        <div class="mb-3">
            <label class="form-label">Student</label>
            <select class="form-select" name="studentId" required>
                <option value="">-- Select Student --</option>
                <option th:each="s : ${students}"
                        th:value="${s.id}"
                        th:text="${s.fullName + ' (ID: ' + s.id + ')'}">
                </option>
            </select>
        </div>

        <div class="mb-3">
            <label class="form-label">Course</label>
            <select class="form-select" name="courseId" required>
                <option value="">-- Select Course --</option>
                <option th:each="c : ${courses}"
                        th:value="${c.id}"
                        th:text="${c.name + ' (' + c.code + ')'}">
                </option>
            </select>
        </div>

        <div class="mb-3">
            <label class="form-label">Aadhaar Number</label>
            <input class="form-control" name="aadharNumber" required minlength="12" maxlength="12">
        </div>

        <button class="btn btn-primary" type="submit">Generate Certificate</button>
    </form>
</div>
</body>
</html>
